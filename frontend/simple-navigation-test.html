<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç®€å•å¯¼èˆªæµ‹è¯•</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #1e3a8a, #7c3aed);
        color: white;
        min-height: 100vh;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        padding: 30px;
        text-align: center;
      }
      .test-button {
        background: linear-gradient(135deg, #ef4444, #dc2626);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        cursor: pointer;
        margin: 10px;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s ease;
      }
      .test-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
      }
      .result {
        margin-top: 20px;
        padding: 15px;
        border-radius: 8px;
        background: rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš¨ Emergency Guardian å¯¼èˆªæµ‹è¯•</h1>
      <p>ç‚¹å‡»æŒ‰é’®æµ‹è¯•å¯¼èˆªåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</p>

      <button class="test-button" onclick="testEmergencyNavigation()">
        ğŸš¨ æµ‹è¯•ç´§æ€¥æ±‚åŠ©å¯¼èˆª
      </button>

      <button
        class="test-button"
        onclick="openMainApp()"
        style="background: linear-gradient(135deg, #3b82f6, #1d4ed8)"
      >
        ğŸ  æ‰“å¼€ä¸»åº”ç”¨
      </button>

      <div id="result" class="result" style="display: none">
        <h3>æµ‹è¯•ç»“æœ</h3>
        <div id="result-content"></div>
      </div>
    </div>

    <script>
      function showResult(message, isSuccess = true) {
        const resultDiv = document.getElementById("result");
        const contentDiv = document.getElementById("result-content");

        contentDiv.innerHTML = `
                <div style="color: ${isSuccess ? "#22c55e" : "#ef4444"}">
                    ${isSuccess ? "âœ…" : "âŒ"} ${message}
                </div>
            `;

        resultDiv.style.display = "block";
      }

      function testEmergencyNavigation() {
        console.log("å¼€å§‹æµ‹è¯•ç´§æ€¥æ±‚åŠ©å¯¼èˆª...");

        // ç›´æ¥æ‰“å¼€ç´§æ€¥é¡µé¢
        const emergencyUrl = "http://localhost:5173/emergency";
        const testWindow = window.open(
          emergencyUrl,
          "_blank",
          "width=1200,height=800"
        );

        if (testWindow) {
          showResult(
            "å·²æ‰“å¼€ç´§æ€¥é¡µé¢ï¼Œè¯·æ£€æŸ¥é¡µé¢æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºç´§æ€¥æ“ä½œä¸­å¿ƒ",
            true
          );

          // ç­‰å¾…ä¸€æ®µæ—¶é—´åæ£€æŸ¥çª—å£çŠ¶æ€
          setTimeout(() => {
            if (!testWindow.closed) {
              console.log("ç´§æ€¥é¡µé¢ä»åœ¨è¿è¡Œï¼Œå¯¼èˆªæˆåŠŸ");
            }
          }, 2000);
        } else {
          showResult("æ— æ³•æ‰“å¼€ç´§æ€¥é¡µé¢ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢å¼¹çª—", false);
        }
      }

      function openMainApp() {
        console.log("æ‰“å¼€ä¸»åº”ç”¨...");

        const mainUrl = "http://localhost:5173/";
        const testWindow = window.open(
          mainUrl,
          "_blank",
          "width=1200,height=800"
        );

        if (testWindow) {
          showResult("å·²æ‰“å¼€ä¸»åº”ç”¨ï¼Œè¯·å°è¯•ç‚¹å‡»ç´§æ€¥æ±‚åŠ©æŒ‰é’®æµ‹è¯•å¯¼èˆª", true);
        } else {
          showResult("æ— æ³•æ‰“å¼€ä¸»åº”ç”¨ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢å¼¹çª—", false);
        }
      }

      // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
      window.addEventListener("load", () => {
        console.log("å¯¼èˆªæµ‹è¯•é¡µé¢å·²åŠ è½½");
        console.log("è¯·ç¡®ä¿å‰ç«¯åº”ç”¨åœ¨ http://localhost:5173 è¿è¡Œ");
      });
    </script>
  </body>
</html>
