<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è·¯ç”±åŠŸèƒ½æµ‹è¯•</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background: #f5f5f5;
      }
      .container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }
      button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        cursor: pointer;
        margin: 10px 5px;
        font-size: 16px;
      }
      button:hover {
        background: #2563eb;
      }
      .emergency-btn {
        background: #dc2626;
      }
      .emergency-btn:hover {
        background: #b91c1c;
      }
      .status {
        padding: 10px;
        border-radius: 4px;
        margin: 10px 0;
        font-weight: bold;
      }
      .success {
        background: #d1fae5;
        color: #065f46;
      }
      .error {
        background: #fee2e2;
        color: #991b1b;
      }
      .info {
        background: #dbeafe;
        color: #1e40af;
      }
      .logs {
        background: #1f2937;
        color: #f9fafb;
        padding: 15px;
        border-radius: 6px;
        font-family: monospace;
        font-size: 12px;
        max-height: 300px;
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <h1>Emergency Guardian - è·¯ç”±åŠŸèƒ½æµ‹è¯•</h1>

    <div class="container">
      <h2>ğŸ¯ æµ‹è¯•è¯´æ˜</h2>
      <p>è¿™ä¸ªé¡µé¢å°†å¸®åŠ©æ‚¨æµ‹è¯•ä¸»åº”ç”¨çš„è·¯ç”±åŠŸèƒ½ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
      <ol>
        <li>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰</li>
        <li>åˆ‡æ¢åˆ°Consoleæ ‡ç­¾é¡µ</li>
        <li>ç‚¹å‡»ä¸‹æ–¹çš„"æ‰“å¼€ä¸»åº”ç”¨"æŒ‰é’®</li>
        <li>åœ¨ä¸»åº”ç”¨ä¸­ç‚¹å‡»"ç´§æ€¥æ±‚åŠ©"æŒ‰é’®</li>
        <li>è§‚å¯ŸConsoleä¸­çš„æ—¥å¿—è¾“å‡º</li>
      </ol>
    </div>

    <div class="container">
      <h2>ğŸ”§ æµ‹è¯•å·¥å…·</h2>
      <div id="status" class="status info">å‡†å¤‡å¼€å§‹æµ‹è¯•...</div>

      <button onclick="openMainApp()">æ‰“å¼€ä¸»åº”ç”¨</button>
      <button onclick="openEmergencyPage()" class="emergency-btn">
        ç›´æ¥æ‰“å¼€ç´§æ€¥é¡µé¢
      </button>
      <button onclick="testAllRoutes()">æµ‹è¯•æ‰€æœ‰è·¯ç”±</button>
      <button onclick="checkConsoleInstructions()">æŸ¥çœ‹ConsoleæŒ‡å¯¼</button>
    </div>

    <div class="container">
      <h2>ğŸ“‹ é¢„æœŸè¡Œä¸º</h2>
      <div class="info">
        <strong>å½“æ‚¨ç‚¹å‡»"ç´§æ€¥æ±‚åŠ©"æŒ‰é’®æ—¶ï¼Œåº”è¯¥çœ‹åˆ°ï¼š</strong>
        <ul>
          <li>Consoleä¸­æ˜¾ç¤º: "Emergency button clicked!"</li>
          <li>Consoleä¸­æ˜¾ç¤º: "Navigating to: emergency"</li>
          <li>Consoleä¸­æ˜¾ç¤º: "Rendering content for route: emergency"</li>
          <li>Consoleä¸­æ˜¾ç¤º: "Rendering EmergencyPage"</li>
          <li>é¡µé¢å†…å®¹ä»Dashboardåˆ‡æ¢åˆ°Emergencyé¡µé¢</li>
          <li>URLåœ°å€æ å˜ä¸º: http://localhost:5173/emergency</li>
        </ul>
      </div>
    </div>

    <div class="container">
      <h2>ğŸ› æ•…éšœæ’é™¤</h2>
      <div class="error">
        <strong>å¦‚æœæŒ‰é’®æ²¡æœ‰ååº”ï¼Œå¯èƒ½çš„åŸå› ï¼š</strong>
        <ul>
          <li>JavaScripté”™è¯¯é˜»æ­¢äº†äº‹ä»¶å¤„ç†</li>
          <li>Reactç»„ä»¶æ²¡æœ‰æ­£ç¡®æ¸²æŸ“</li>
          <li>è·¯ç”±hookæ²¡æœ‰æ­£ç¡®åˆå§‹åŒ–</li>
          <li>äº‹ä»¶å¤„ç†å™¨æ²¡æœ‰æ­£ç¡®ç»‘å®š</li>
        </ul>
      </div>

      <div class="info">
        <strong>æ£€æŸ¥æ­¥éª¤ï¼š</strong>
        <ul>
          <li>æŸ¥çœ‹Consoleæ˜¯å¦æœ‰JavaScripté”™è¯¯</li>
          <li>ç¡®è®¤æ˜¯å¦çœ‹åˆ°è·¯ç”±ç›¸å…³çš„æ—¥å¿—</li>
          <li>æ£€æŸ¥Networkæ ‡ç­¾é¡µæ˜¯å¦æœ‰åŠ è½½å¤±è´¥çš„èµ„æº</li>
          <li>å°è¯•åˆ·æ–°é¡µé¢é‡æ–°åŠ è½½</li>
        </ul>
      </div>
    </div>

    <div class="container">
      <h2>ğŸ“ æµ‹è¯•æ—¥å¿—</h2>
      <div id="logs" class="logs">æµ‹è¯•å·¥å…·å·²åŠ è½½ï¼Œè¯·å¼€å§‹æµ‹è¯•...</div>
      <button onclick="clearLogs()">æ¸…é™¤æ—¥å¿—</button>
    </div>

    <script>
      function log(message, type = "info") {
        const logsDiv = document.getElementById("logs");
        const timestamp = new Date().toLocaleTimeString();
        const prefix =
          type === "error"
            ? "âŒ"
            : type === "success"
            ? "âœ…"
            : type === "warning"
            ? "âš ï¸"
            : "â„¹ï¸";
        logsDiv.innerHTML += `\n[${timestamp}] ${prefix} ${message}`;
        logsDiv.scrollTop = logsDiv.scrollHeight;
        console.log(message);
      }

      function clearLogs() {
        document.getElementById("logs").innerHTML = "æ—¥å¿—å·²æ¸…é™¤";
      }

      function updateStatus(message, type = "info") {
        const statusDiv = document.getElementById("status");
        statusDiv.innerHTML = message;
        statusDiv.className = `status ${type}`;
      }

      function openMainApp() {
        log("æ‰“å¼€ä¸»åº”ç”¨...", "info");
        updateStatus("ä¸»åº”ç”¨å·²åœ¨æ–°çª—å£æ‰“å¼€ï¼Œè¯·åœ¨æ–°çª—å£ä¸­æµ‹è¯•åŠŸèƒ½", "success");

        const newWindow = window.open("http://localhost:5173", "_blank");

        if (newWindow) {
          log("ä¸»åº”ç”¨å·²åœ¨æ–°çª—å£æ‰“å¼€", "success");
          log("è¯·åœ¨æ–°çª—å£ä¸­ï¼š", "info");
          log("1. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰", "info");
          log("2. åˆ‡æ¢åˆ°Consoleæ ‡ç­¾é¡µ", "info");
          log('3. ç‚¹å‡»"ç´§æ€¥æ±‚åŠ©"æŒ‰é’®', "info");
          log("4. è§‚å¯ŸConsoleä¸­çš„æ—¥å¿—è¾“å‡º", "info");
        } else {
          log("æ— æ³•æ‰“å¼€æ–°çª—å£ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢", "error");
          updateStatus(
            "æ— æ³•æ‰“å¼€æ–°çª—å£ï¼Œè¯·æ‰‹åŠ¨è®¿é—® http://localhost:5173",
            "error"
          );
        }
      }

      function openEmergencyPage() {
        log("ç›´æ¥æ‰“å¼€ç´§æ€¥é¡µé¢...", "info");
        const newWindow = window.open(
          "http://localhost:5173/emergency",
          "_blank"
        );

        if (newWindow) {
          log("ç´§æ€¥é¡µé¢å·²åœ¨æ–°çª—å£æ‰“å¼€", "success");
          updateStatus("ç´§æ€¥é¡µé¢å·²æ‰“å¼€ï¼Œæ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºç´§æ€¥æƒ…å†µè¡¨å•", "success");
        } else {
          log("æ— æ³•æ‰“å¼€æ–°çª—å£", "error");
        }
      }

      async function testAllRoutes() {
        log("å¼€å§‹æµ‹è¯•æ‰€æœ‰è·¯ç”±...", "info");
        updateStatus("æµ‹è¯•æ‰€æœ‰è·¯ç”±ä¸­...", "info");

        const routes = [
          "dashboard",
          "emergency",
          "guardians",
          "settings",
          "activities",
        ];

        for (const route of routes) {
          try {
            log(`æµ‹è¯•è·¯ç”±: /${route}`, "info");
            const response = await fetch(`http://localhost:5173/${route}`);

            if (response.ok) {
              log(`âœ… è·¯ç”± /${route} å¯è®¿é—®`, "success");
            } else {
              log(`âŒ è·¯ç”± /${route} è¿”å› ${response.status}`, "error");
            }
          } catch (error) {
            log(`âŒ è·¯ç”± /${route} æµ‹è¯•å¤±è´¥: ${error.message}`, "error");
          }

          // çŸ­æš‚å»¶è¿Ÿ
          await new Promise((resolve) => setTimeout(resolve, 500));
        }

        updateStatus("è·¯ç”±æµ‹è¯•å®Œæˆï¼ŒæŸ¥çœ‹æ—¥å¿—äº†è§£è¯¦æƒ…", "success");
        log("æ‰€æœ‰è·¯ç”±æµ‹è¯•å®Œæˆ", "success");
      }

      function checkConsoleInstructions() {
        log("=== Consoleè°ƒè¯•æŒ‡å¯¼ ===", "info");
        log("1. æ‰“å¼€ä¸»åº”ç”¨: http://localhost:5173", "info");
        log("2. æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·", "info");
        log("3. åˆ‡æ¢åˆ°Consoleæ ‡ç­¾é¡µ", "info");
        log('4. ç‚¹å‡»"ç´§æ€¥æ±‚åŠ©"æŒ‰é’®', "info");
        log("5. æŸ¥çœ‹æ˜¯å¦å‡ºç°ä»¥ä¸‹æ—¥å¿—:", "info");
        log('   - "Emergency button clicked!"', "info");
        log('   - "Navigating to: emergency"', "info");
        log('   - "Rendering content for route: emergency"', "info");
        log('   - "Rendering EmergencyPage"', "info");
        log("6. å¦‚æœæ²¡æœ‰çœ‹åˆ°è¿™äº›æ—¥å¿—ï¼Œè¯´æ˜å­˜åœ¨é—®é¢˜", "warning");
        log("7. å¦‚æœçœ‹åˆ°é”™è¯¯ä¿¡æ¯ï¼Œè¯·è®°å½•ä¸‹æ¥", "warning");

        updateStatus("Consoleè°ƒè¯•æŒ‡å¯¼å·²æ˜¾ç¤ºåœ¨æ—¥å¿—ä¸­", "info");
      }

      // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
      window.addEventListener("load", () => {
        log("è·¯ç”±æµ‹è¯•å·¥å…·å·²åŠ è½½", "info");
        log('è¯·ç‚¹å‡»"æ‰“å¼€ä¸»åº”ç”¨"å¼€å§‹æµ‹è¯•', "info");

        // æ£€æŸ¥ä¸»åº”ç”¨æ˜¯å¦å¯è®¿é—®
        fetch("http://localhost:5173")
          .then((response) => {
            if (response.ok) {
              log("ä¸»åº”ç”¨æœåŠ¡æ­£å¸¸è¿è¡Œ", "success");
              updateStatus("ä¸»åº”ç”¨æœåŠ¡æ­£å¸¸ï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•", "success");
            } else {
              log(`ä¸»åº”ç”¨è¿”å›é”™è¯¯: ${response.status}`, "error");
              updateStatus(`ä¸»åº”ç”¨è®¿é—®å¼‚å¸¸: HTTP ${response.status}`, "error");
            }
          })
          .catch((error) => {
            log(`æ— æ³•è¿æ¥åˆ°ä¸»åº”ç”¨: ${error.message}`, "error");
            updateStatus("æ— æ³•è¿æ¥åˆ°ä¸»åº”ç”¨ï¼Œè¯·ç¡®è®¤æœåŠ¡æ­£åœ¨è¿è¡Œ", "error");
          });
      });
    </script>
  </body>
</html>
